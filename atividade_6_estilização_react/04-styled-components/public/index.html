<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vitrine de Produtos - Styled-Components</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Dependências do React -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    
    <!-- Styled-Components -->
    <script src="https://unpkg.com/styled-components/dist/styled-components.min.js"></script>
    
    <!-- Babel para transpilar JSX no navegador -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* Estilo base para evitar FOUC */
        body { background-color: #f8fafc; font-family: 'Inter', sans-serif; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { createGlobalStyle, ThemeProvider, keyframes } = styled;

        // --- Dados Mockados ---
        const productsData = [
            { id: 1, title: "Fone de Ouvido Sem Fio com Cancelamento de Ruído Ativo e Bateria de Longa Duração", price: "R$ 349,90", rating: 4.8, tag: "Novo", imageUrl: "https://placehold.co/400x400/e0f2fe/0c4a6e?text=Fone" },
            { id: 2, title: "Cadeira de Escritório Ergonômica com Suporte Lombar Ajustável", price: "R$ 899,00", rating: 4.9, tag: "Promo", imageUrl: "https://placehold.co/400x400/dcfce7/14532d?text=Cadeira" },
            { id: 3, title: "Teclado Mecânico Gamer RGB com Switches Tácteis", price: "R$ 499,50", rating: 4.7, tag: null, imageUrl: "https://placehold.co/400x400/fee2e2/991b1b?text=Teclado" },
            { id: 4, title: "Monitor Curvo 27 polegadas 144Hz para Jogos e Produtividade", price: "R$ 1.799,99", rating: 4.6, tag: "Novo", imageUrl: "https://placehold.co/400x400/f3e8ff/581c87?text=Monitor" },
            { id: 5, title: "Garrafa Térmica Inteligente com Display de Temperatura LED", price: "R$ 129,90", rating: 4.5, tag: "Promo", imageUrl: "https://placehold.co/400x400/fffbeb/b45309?text=Garrafa" },
            { id: 6, title: "Mochila Executiva Anti-furto com Compartimento para Notebook", price: "R$ 250,00", rating: 4.8, tag: null, imageUrl: "https://placehold.co/400x400/e5e7eb/374151?text=Mochila" },
        ];

        // --- Tokens de Design e Temas ---
        const tokens = {
            fontFamily: "'Inter', sans-serif",
            radius: { md: '0.375rem', lg: '0.5rem', full: '9999px' },
            spacing: { 4: '1rem', 6: '1.5rem', 8: '2rem' },
            shadow: { focusRing: '0 0 0 3px rgba(59, 130, 246, 0.4)' }
        };

        const lightTheme = { ...tokens, colors: { bg: '#f8fafc', surface: '#ffffff', textPrimary: '#1e293b', textSecondary: '#64748b', border: '#e2e8f0', primary: '#3b82f6', primaryHover: '#2563eb', primaryText: '#ffffff', rating: '#f59e0b', tagBg: '#dbeafe', tagText: '#1d4ed8', skeleton: '#e2e8f0', }, shadows: { sm: '0 1px 2px 0 rgb(0 0 0 / 0.05)', md: '0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)', lg: '0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)', }, };
        const darkTheme = { ...tokens, colors: { bg: '#0f172a', surface: '#1e293b', textPrimary: '#f1f5f9', textSecondary: '#94a3b8', border: '#334155', primary: '#60a5fa', primaryHover: '#93c5fd', primaryText: '#1e293b', rating: '#f59e0b', tagBg: '#1e3a8a', tagText: '#bfdbfe', skeleton: '#334155', }, shadows: { sm: '0 1px 2px 0 rgb(0 0 0 / 0.2)', md: '0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.2)', lg: '0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.2)', }, };

        // --- Estilos Globais ---
        const GlobalStyle = createGlobalStyle` body { font-family: ${({ theme }) => theme.fontFamily}; background-color: ${({ theme }) => theme.colors.bg}; color: ${({ theme }) => theme.colors.textPrimary}; transition: background-color 200ms, color 200ms; } *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; } `;

        // --- Ícones ---
        const SunIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>;
        const MoonIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>;
        const CartIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>;

        // --- Componentes Estilizados ---
        const StyledButton = styled.button` display: inline-flex; align-items: center; justify-content: center; width: 100%; height: 44px; padding: 0 1rem; border: 1px solid transparent; border-radius: ${({ theme }) => theme.radius.md}; font-weight: 500; font-size: 0.875rem; cursor: pointer; transition: background-color 150ms, color 150ms, border-color 150ms, opacity 150ms; &:focus-visible { outline: none; box-shadow: ${({ theme }) => theme.shadow.focusRing}; } &:disabled { opacity: 0.6; cursor: not-allowed; } ${({ $variant, theme }) => { switch ($variant) { case 'outline': return ` background-color: transparent; color: ${theme.colors.primary}; border-color: ${theme.colors.primary}; &:hover:not(:disabled) { background-color: ${theme.colors.primary}; color: ${theme.colors.primaryText}; } `; case 'ghost': return ` background-color: transparent; color: ${theme.colors.primary}; &:hover:not(:disabled) { background-color: ${theme.colors.border}; } `; default: return ` background-color: ${theme.colors.primary}; color: ${theme.colors.primaryText}; &:hover:not(:disabled) { background-color: ${theme.colors.primaryHover}; } `; } }} `;
        const StyledNavbar = styled.header` position: fixed; top: 0; left: 0; right: 0; display: flex; align-items: center; justify-content: space-between; height: 72px; padding: 0 ${({ theme }) => theme.spacing[4]}; background-color: ${({ theme }) => theme.colors.surface}; border-bottom: 1px solid ${({ theme }) => theme.colors.border}; box-shadow: ${({ theme }) => theme.shadows.md}; z-index: 10; transition: background-color 200ms, border-color 200ms; @media (min-width: 769px) { padding: 0 ${({ theme }) => theme.spacing[6]}; } @media (min-width: 1025px) { padding: 0 ${({ theme }) => theme.spacing[8]}; } `;
        const NavbarLogo = styled.div` font-weight: 700; font-size: 1.25rem; `;
        const NavbarActions = styled.div` display: flex; align-items: center; gap: ${({ theme }) => theme.spacing[4]}; `;
        const IconButton = styled.button` display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; border: none; background-color: transparent; color: ${({ theme }) => theme.colors.textSecondary}; cursor: pointer; border-radius: ${({ theme }) => theme.radius.full}; transition: background-color 150ms, color 150ms; &:hover { background-color: ${({ theme }) => theme.colors.border}; color: ${({ theme }) => theme.colors.textPrimary}; } &:focus-visible { outline: none; box-shadow: ${({ theme }) => theme.shadow.focusRing}; } `;
        const CartBadge = styled(IconButton).attrs({ as: 'a' })` position: relative; `;
        const CartCount = styled.span` position: absolute; top: 2px; right: 2px; display: flex; align-items: center; justify-content: center; height: 18px; min-width: 18px; padding: 0 4px; border-radius: ${({ theme }) => theme.radius.full}; background-color: ${({ theme }) => theme.colors.primary}; color: ${({ theme }) => theme.colors.primaryText}; font-size: 0.75rem; font-weight: 500; `;
        const Main = styled.main` padding: calc(${({ theme }) => theme.spacing[6]} + 72px) ${({ theme }) => theme.spacing[4]} ${({ theme }) => theme.spacing[6]}; @media (min-width: 769px) { padding-left: ${({ theme }) => theme.spacing[6]}; padding-right: ${({ theme }) => theme.spacing[6]}; } @media (min-width: 1025px) { padding-left: ${({ theme }) => theme.spacing[8]}; padding-right: ${({ theme }) => theme.spacing[8]}; } `;
        const ProductGridContainer = styled.div` display: grid; gap: ${({ theme }) => theme.spacing[6]}; max-width: 1280px; margin: 0 auto; grid-template-columns: 1fr; @media (min-width: 481px) { grid-template-columns: repeat(2, 1fr); } @media (min-width: 769px) { grid-template-columns: repeat(3, 1fr); } @media (min-width: 1025px) { grid-template-columns: repeat(4, 1fr); } `;
        const Card = styled.article` background-color: ${({ theme }) => theme.colors.surface}; border: 1px solid ${({ theme }) => theme.colors.border}; border-radius: ${({ theme }) => theme.radius.lg}; box-shadow: ${({ theme }) => theme.shadows.sm}; overflow: hidden; display: flex; flex-direction: column; transition: transform 200ms, box-shadow 200ms, background-color 200ms, border-color 200ms; &:hover { transform: translateY(-4px); box-shadow: ${({ theme }) => theme.shadows.lg}; } `;
        const CardImageContainer = styled.div` position: relative; aspect-ratio: 1 / 1; background-color: ${({ theme }) => theme.colors.skeleton}; `;
        const CardImage = styled.img` display: block; width: 100%; height: 100%; object-fit: cover; `;
        const CardTag = styled.div` position: absolute; top: 12px; left: 12px; background-color: ${({ theme }) => theme.colors.tagBg}; color: ${({ theme }) => theme.colors.tagText}; padding: 4px 8px; border-radius: ${({ theme }) => theme.radius.md}; font-size: 0.75rem; font-weight: 500; `;
        const CardContent = styled.div` padding: ${({ theme }) => theme.spacing[4]}; display: flex; flex-direction: column; flex-grow: 1; `;
        const CardTitle = styled.h3` font-size: 1rem; font-weight: 500; line-height: 1.5; color: ${({ theme }) => theme.colors.textPrimary}; height: 3em; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; `;
        const CardInfo = styled.div` display: flex; justify-content: space-between; align-items: center; margin-top: 0.75rem; gap: 0.5rem; `;
        const CardPrice = styled.span` font-size: 1.125rem; font-weight: 700; color: ${({ theme }) => theme.colors.primary}; `;
        const CardRating = styled.span` font-size: 0.875rem; color: ${({ theme }) => theme.colors.rating}; `;
        const CardActions = styled.div` margin-top: auto; padding-top: ${({ theme }) => theme.spacing[4]}; `;
        const pulse = keyframes` 50% { opacity: .5; } `;
        const SkeletonContainer = styled.div` border-radius: ${({ theme }) => theme.radius.lg}; overflow: hidden; background-color: ${({ theme }) => theme.colors.surface}; border: 1px solid ${({ theme }) => theme.colors.border}; animation: ${pulse} 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; `;
        const SkeletonImage = styled.div` aspect-ratio: 1 / 1; background-color: ${({ theme }) => theme.colors.skeleton}; `;
        const SkeletonContent = styled.div` padding: ${({ theme }) => theme.spacing[4]}; `;
        const SkeletonLine = styled.div` height: 1em; background-color: ${({ theme }) => theme.colors.skeleton}; border-radius: ${({ theme }) => theme.radius.md}; margin-bottom: 0.75rem; width: ${({ width }) => width || '100%'}; `;
        const SkeletonButton = styled.div` height: 44px; width: 100%; background-color: ${({ theme }) => theme.colors.skeleton}; border-radius: ${({ theme }) => theme.radius.md}; margin-top: ${({ theme }) => theme.spacing[4]}; `;

        // --- Componentes Funcionais ---
        const SkeletonCard = () => ( <SkeletonContainer aria-hidden="true"> <SkeletonImage /> <SkeletonContent> <SkeletonLine /> <SkeletonLine width="80%" /> <div style={{ height: '1rem' }} /> <SkeletonLine width="60%" /> <SkeletonButton /> </SkeletonContent> </SkeletonContainer> );
        const ProductCard = ({ product }) => ( <Card aria-labelledby={`product-title-${product.id}`}> <CardImageContainer> <CardImage src={product.imageUrl} alt={`Imagem de ${product.title}`} loading="lazy" width="400" height="400" /> {product.tag && <CardTag>{product.tag}</CardTag>} </CardImageContainer> <CardContent> <CardTitle id={`product-title-${product.id}`}>{product.title}</CardTitle> <CardInfo> <CardPrice>{product.price}</CardPrice> <CardRating aria-label={`Avaliação de ${product.rating} de 5 estrelas`}> {'★'.repeat(Math.round(product.rating))} </CardRating> </CardInfo> <CardActions> <StyledButton $variant="solid" aria-label={`Adicionar ${product.title} ao carrinho`}>Adicionar</StyledButton> </CardActions> </CardContent> </Card> );

        // --- App Principal ---
        function App() {
            const [theme, setTheme] = useState('light');
            const [isLoading, setIsLoading] = useState(true);

            useEffect(() => {
                const savedTheme = localStorage.getItem('theme') || 'light';
                setTheme(savedTheme);
                const timer = setTimeout(() => setIsLoading(false), 2000);
                return () => clearTimeout(timer);
            }, []);
            
            const toggleTheme = () => {
                const newTheme = theme === 'light' ? 'dark' : 'light';
                setTheme(newTheme);
                localStorage.setItem('theme', newTheme);
            };

            const currentTheme = theme === 'light' ? lightTheme : darkTheme;

            return (
                <ThemeProvider theme={currentTheme}>
                    <GlobalStyle />
                    <StyledNavbar role="navigation" aria-label="Navegação principal">
                        <NavbarLogo>Shop.</NavbarLogo>
                        <NavbarActions>
                            <IconButton onClick={toggleTheme} type="button" aria-label="Alternar tema">
                                {theme === 'light' ? <MoonIcon /> : <SunIcon />}
                            </IconButton>
                            <CartBadge href="#" aria-label="Carrinho de compras com 3 itens">
                                <CartIcon />
                                <CartCount>3</CartCount>
                            </CartBadge>
                        </NavbarActions>
                    </StyledNavbar>
                    <Main>
                        <ProductGridContainer>
                            {isLoading ? Array.from({ length: 6 }).map((_, index) => <SkeletonCard key={index} />) : productsData.map(product => <ProductCard key={product.id} product={product} />) }
                        </ProductGridContainer>
                    </Main>
                </ThemeProvider>
            );
        }

        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<App />);

    </script>
</body>
</html>
